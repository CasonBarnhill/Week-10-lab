@{
    ViewBag.Title = "Home Page";
}

<div >

    <p>
       <img height="100" src="data:image/jpeg;base64,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" />
    </p>
    <div ng-view >
       
    </div>
</div>
@section scripts
    {

    <script>
        var app = angular.module("pinApp", ['ngRoute']);

        app.config(function ($routeProvider) {
            $routeProvider
                .when("/home/index",
                {
                    controller: 'pinController',
                    templateUrl: '/AngularViews/pins.html'
                })

                .otherwise({ redirectTo: '/home/index' });

        });
        //controller needs a function that takes in Uploadpin
        app.controller('pinController', function ($scope, pinFactory) {

            $scope.pinList = [];
            var init = function () {
                pinFactory.getPins().then(function (data) { $scope.pinList = data; });
            };

           

            $scope.uploadPin = function (newPin) {
                console.log("hello!");
                pinFactory.savePin(newPin).then(function (pin) { $scope.pinList.push(pin); });
            }

            init();

        });


        app.factory('pinFactory', function ($http) {

            var factory = {};

            factory.getPins = function () {
                return $http.get("/Home/GetPins").then(function (response) { return response.data; });
            };

            factory.savePin = function (newPin) {
                return $http.post("/Home/SavePin", newPin).then(function (response) { return response.data; });
            };
            return factory;
        });

    </script>
}
